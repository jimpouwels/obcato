<?php	// No direct access	defined('_ACCESS') or die;		require_once "libraries/system/template_engine.php";	require_once "visual/form_textfield.php";		class PositionEditor extends Visual {			private static $TEMPLATE = "blocks/positions/editor.tpl";			private $_template_engine;		private $_current_position;			public function __construct($current_position) {			$this->_current_position = $current_position;			$this->_template_engine = TemplateEngine::getInstance();		}			public function render() {			$new_position = true;			$position_id = null;			if (!is_null($this->_current_position)) {				$new_position = false;				$position_id = $this->_current_position->getId();			}			$this->_template_engine->assign("id", $position_id);			$this->_template_engine->assign("new_position", $new_position);						$this->_template_engine->assign("name_field", $this->renderNameField());									return $this->_template_engine->fetch("modules/" . self::$TEMPLATE);		}				private function renderNameField() {			$name_value = null;			if (isset($this->_current_position)) { 				$name_value = $this->_current_position->getName();			}			$name_field = new TextField("name", "Naam", $name_value, true, false, null);			return $name_field->render();		}	}	?>