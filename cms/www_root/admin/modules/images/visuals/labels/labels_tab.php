<?php	// No direct access	defined('_ACCESS') or die;		require_once "core/visual/visual.php";	require_once "modules/images/visuals/labels/labels_list.php";	require_once "modules/images/visuals/labels/label_editor.php";		class LabelsTab extends Visual {			private static $TEMPLATE = "images/labels/root.tpl";		private $_current_label;		private $_label_pre_handler;		private $_template_engine;				public function __construct($label_pre_handler) {			$this->_label_pre_handler = $label_pre_handler;			$this->_current_label = $this->_label_pre_handler->getCurrentLabel();			$this->_template_engine = TemplateEngine::getInstance();		}			public function render() {			if (!is_null($this->_current_label)) {				$this->_template_engine->assign("label_editor", $this->renderLabelEditor());			}			$this->_template_engine->assign("labels_list", $this->renderLabelsList());			return $this->_template_engine->fetch("modules/" . self::$TEMPLATE);		}				private function renderLabelEditor() {			$label_editor = new LabelEditor($this->_current_label);			return $label_editor->render();		}				private function renderLabelsList() {			$labels_list = new LabelsList();			return $labels_list->render();		}		}